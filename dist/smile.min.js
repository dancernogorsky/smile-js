(function(b,v){var a;a=new ArrayBuffer(2);(new DataView(a)).setInt16(0,256,!0);a=256===(new Int16Array(a))[0];b.littleEndian=a})(window.Smile=window.Smile||{});
(function(b,v){var a=[0,1,3,7,15,31,63,127,255];b.Decoder=function(){};b.Decoder.decodeZigZag=function(a){if(0>a)throw new b.SmileError("Illegal zigzag value");return 2147483647>=a?a&1?-(a>>1)-1:a>>1:a&1?-Math.floor(a/2)-1:Math.floor(a/2)};b.Decoder.decodeAscii=function(b){return String.fromCharCode.apply(null,b)};b.Decoder.decodeUtf8=function(b){for(var a="",c=b.length,f=0,p,h,l;f<c;)p=b[f++],h=p>>4,0<=h&&7>=h?a+=String.fromCharCode(p):12<=h&&13>=h?(h=b[f++],a+=String.fromCharCode((p&31)<<6|h&63)):
14===h&&(h=b[f++],l=b[f++],a+=String.fromCharCode((p&15)<<12|(h&63)<<6|(l&63)<<0));return a};b.Decoder.decodeFloat32=function(b){return(new Float32Array(b))[0]};b.Decoder.decodeFloat64=function(b){return(new Float64Array(b))[0]};b.Decoder.decodeFixedLengthBigEndianEncodedBits=function(u,n,c){u=new Uint8Array(u);var f=new ArrayBuffer(Math.ceil(n/8)),p=new Uint8Array(f),h=0;n%=7;for(var l=0,g=0,r=u[h],q=0,m;h<u.length;)m=Math.min(n,8-g),q<<=m,q|=r>>n-m,n-=m,r&=a[n],g+=m,0===n&&(h++,n=7,r=u[h]),8===
g&&(m=b.littleEndian&&c?p.length-l-1:l,p[m]=q,l++,q=g=0);0<g&&(m=b.littleEndian&&c?p.length-l-1:l,p[m]=q<<8-g);return f};b.Decoder.decodeSafeBinaryEncodedBits=function(b,n){for(var c=new Uint8Array(b),f=new ArrayBuffer(Math.ceil(n/8)),f=new Uint8Array(f),p=0,h=7,l=0,g=0,r=c[p],q=0,m;l<f.length;)m=Math.min(h,8-g),q<<=m,q|=r>>h-m,h-=m,r&=a[h],g+=m,0===h&&(p++,h=7,r=c[p]),8===g&&(f[l]=q,l++,q=g=0);0<g&&(f[l]=q<<8-g);return f}})(window.Smile=window.Smile||{});
(function(b,v){var a=[0,1,3,7,15,31,63,127,255],u=[1,2,4,8,16,32,64,128];b.DecoderStream=function(b){this._inputStream=b};b.DecoderStream.prototype.isEof=function(){return this._inputStream.isEof()};b.DecoderStream.prototype.read=function(){return this._inputStream.read()};b.DecoderStream.prototype.peek=function(){return this._inputStream.peek()};b.DecoderStream.prototype.readUnsignedVint=function(){function b(n,l){32>f+l?(c<<=l,c|=n&a[l]):(c*=u[l],c+=n&a[l]);f+=l}for(var c=0,f=0;;){var p=this._inputStream.read();
if(p&128)return b(p,6),c;b(p,7)}};b.DecoderStream.prototype.readSignedVint=function(){return b.Decoder.decodeZigZag(this.readUnsignedVint())};b.DecoderStream.prototype.readAscii=function(a){return b.Decoder.decodeAscii(this._inputStream.readArray(a))};b.DecoderStream.prototype.readUtf8=function(a){return b.Decoder.decodeUtf8(this._inputStream.readArray(a))};b.DecoderStream.prototype.readFloat32=function(){return b.Decoder.decodeFloat32(this.readFixedLengthBigEndianEncodedBits(32,!0))};b.DecoderStream.prototype.readFloat64=
function(){return b.Decoder.decodeFloat64(this.readFixedLengthBigEndianEncodedBits(64,!0))};b.DecoderStream.prototype.readFixedLengthBigEndianEncodedBits=function(a,c){var f=this._inputStream.readArray(Math.ceil(a/7));return b.Decoder.decodeFixedLengthBigEndianEncodedBits(f,a,c)};b.DecoderStream.prototype.readSafeBinary=function(){var a=this.readUnsignedVint(),c=this._inputStream.readArray(Math.ceil(8*a/7));return b.Decoder.decodeSafeBinaryEncodedBits(c,8*a)};b.DecoderStream.prototype.readBigInt=
function(){var b=this.readSafeBinary(),a=0,f;for(f=0;f<b.length;f++)a=256*a+b[f];return a};b.DecoderStream.prototype.readBigDecimal=function(){var b=this.readSignedVint();return this.readBigInt()*Math.pow(10,b)};b.DecoderStream.prototype.readLongString=function(){for(var b=new Uint8Array,a;;){a=this._inputStream().read();if(252===a)break;b.push(a)}return b};b.DecoderStream.prototype.readLongAscii=function(){return b.Decoder.decodeAscii(this.readLongString())};b.DecoderStream.prototype.readLongUtf8=
function(){return b.Decoder.decodeUtf8(this.readLongString())}})(window.Smile=window.Smile||{});(function(b,v){b.SmileError=function(b){this.name="SmileError";this.message=b};b.SmileError.prototype=Object.create(Error.prototype);b.SmileError.prototype.constructor=b.SmileError})(window.Smile=window.Smile||{});
(function(b,v){b.InputStream=function(a){if(a instanceof Uint8Array)this._view=a;else if(a instanceof ArrayBuffer)this._view=new Uint8Array(a);else if(a.constructor===Array)this._view=new Uint8Array(a);else throw new b.SmileError("Illegal argument (Uint8Array, ArrayBuffer, Array expected).");this._index=0};b.InputStream.prototype.isEof=function(){return this._index>=this._view.length};b.InputStream.prototype.read=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");var a=
this._view[this._index];this._index++;return a};b.InputStream.prototype.readArray=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");a=Math.min(this._view.length,this._index+a);var u=this._view.subarray(this._index,a);this._index=a;return u};b.InputStream.prototype.peek=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");return this._view[this._index]};b.InputStream.prototype.skip=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");
if(0>a)throw new b.SmileError("Invalid skip amount.");this._index+=a}})(window.Smile=window.Smile||{});
(function(b,v){function a(a){function n(){if(0!==s.length)return s[s.length-1]}function c(b,a){g&&g.debug&&(a===v?s.push(b):s.push(b+" "+a))}function f(t,a){var d;if(32===t)return c("EMPTYSTRING"),"";if(33===t)return c("NULL"),null;if(34===t)return c("FALSE"),!1;if(35===t)return c("TRUE"),!0;if(36===t)return d=a.readSignedVint(),c("INT32",d),d;if(37===t)return d=a.readSignedVint(),c("INT64",d),d;if(38===t)return d=a.readBigInt(),c("BIGINT",d),d;if(40===t)return d=a.readFloat32(),c("FLOAT32",d),d;
if(41===t)return d=a.readFloat64(),c("FLOAT64",d),d;if(42===t)return d=a.readBigDecimal(),c("BIGDECIMAL",d),d;throw new b.SmileError("Invalid value token 0x"+t.toString(16));}function p(a,e){var d,f,k;if(224===a)return k=e.readLongAscii(),c("LONGASCII",k),k;if(228===a)return k=e.readLongUtf8(),c("LONGUTF8",k),k;if(232===a)return k=e.readSafeBinary(),c("BINARY",k),k;if(236<=a&&239>=a){k=(a&3)<<8|e.read();if(64>k)throw new b.SmileError("Invalid long shared value name reference.");k=w.getString(k);c("LONGSTRREF",
k);return k}if(248===a){d=[];for(g&&g.debug&&s.push([]);249!==e.peek();)d.push(h(e)),g&&g.debug&&(k=s.pop(),n().push(k));e.read();return d}if(250===a){d={};for(g&&g.debug&&s.push({});251!==e.peek();)f=l(e),k=h(e),d[f]=k,g&&g.debug&&(k=s.pop(),f=s.pop(),n()[f]=k);e.read();return d}if(253===a)return k=e.readUnsignedVint(),d=e.readArray(k),c("RAWBINARY",d),d;throw new b.SmileError("Invalid value token 0x"+a.toString(16));}function h(a){var e=a.read(),d=e>>5;if(0===d)return a=w.getString(e&31),c("SHORTSTRREF",
a),a;if(1===d)return f(e,a);if(2===d)return a=a.readAscii((e&31)+1),w.addString(a),c("TINYASCII",a),a;if(3===d)return a=a.readAscii((e&31)+33),w.addString(a),c("SHORTASCII",a),a;if(4===d)return a=a.readUtf8((e&31)+2),w.addString(a),c("TINYUTF8",a),a;if(5===d)return a=a.readUtf8((e&31)+34),w.addString(a),c("SHORTUTF8",a),a;if(6===d)return a=b.Decoder.decodeZigZag(e&31),c("SMALLINT",a),a;if(7===d)return p(e,a)}function l(a){var e=a.read();if(32===e)return c("EMPTYSTRING"),"";if(48<=e&&51>=e){a=(e&3)<<
8|a.read();if(64>a)throw new b.SmileError("Invalid long shared key name reference.");a=m.getString(a);c("LONGSTRREF",a);return a}if(52===e)return a=a.readLongUtf8(),c("LONGUTF8",a),a;if(64<=e&&127>=e)return a=m.getString(e&63),c("SHORTSTRREF",a),a;if(128<=e&&191>=e)return a=a.readAscii((e&63)+1),m.addString(a),c("SHORTASCII",a),a;if(192<=e&&247>=e)return a=a.readUtf8((e&63)+2),m.addString(a),c("SHORTUTF8",a),a;throw new b.SmileError("Invalid key token 0x"+e.toString(16));}var g=a,r=!1,q=!1,m,w,x,
s=[];this.parse=function(a){var c,d,f;x=new b.DecoderStream(new b.InputStream(a));a=x.read();c=x.read();d=x.read();f=x.read();if(58!==a||41!==c||10!==d)throw new b.SmileError("Invalid Smile data.");r=f&1;q=f&2;m=new b.SharedStringBuffer(r,1024);w=new b.SharedStringBuffer(q,1024);a=h(x);g&&g.debug&&console.log(s.pop());return a}}b.Parser={};b.Parser.parse=function(b,n){return(new a(n)).parse(b)}})(window.Smile=window.Smile||{});
(function(b,v){b.SharedStringBuffer=function(a,b){this._enabled=a;this._maxStrings=b;this._strings=[]};b.SharedStringBuffer.prototype.addString=function(a){if(!this._enabled)return a;this._strings.length>=this._maxStrings&&(this._strings.length=0);this._strings.push(a);return a};b.SharedStringBuffer.prototype.getString=function(a){if(!this._enabled)throw new b.SmileError("Shared strings are not enabled.");if(a>=this._strings.length)throw new b.SmileError("Shared string reference out of range.");return this._strings[a]}})(window.Smile=
window.Smile||{});