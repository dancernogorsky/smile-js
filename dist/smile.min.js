(function(b,u){var a;a=new ArrayBuffer(2);(new DataView(a)).setInt16(0,256,!0);a=256===(new Int16Array(a))[0];b.littleEndian=a})(window.Smile=window.Smile||{});
(function(b,u){var a=[0,1,3,7,15,31,63,127,255];b.Decoder=function(){};b.Decoder.decodeZigZag=function(a){if(0>a)throw new b.SmileError("Illegal zigzag value");return 2147483647>=a?a&1?-(a>>1)-1:a>>1:a&1?-Math.floor(a/2)-1:Math.floor(a/2)};b.Decoder.decodeAscii=function(b){return String.fromCharCode.apply(null,b)};b.Decoder.decodeUtf8=function(b){for(var a="",d=b.length,g=0,l,k,e;g<d;)l=b[g++],k=l>>4,0<=k&&7>=k?a+=String.fromCharCode(l):12<=k&&13>=k?(k=b[g++],a+=String.fromCharCode((l&31)<<6|k&63)):
14===k&&(k=b[g++],e=b[g++],a+=String.fromCharCode((l&15)<<12|(k&63)<<6|(e&63)<<0));return a};b.Decoder.decodeFloat32=function(b){return(new Float32Array(b))[0]};b.Decoder.decodeFloat64=function(b){return(new Float64Array(b))[0]};b.Decoder.decodeFixedLengthBigEndianEncodedBits=function(t,n,d){t=new Uint8Array(t);var g=new ArrayBuffer(Math.ceil(n/8)),l=new Uint8Array(g),k=0;n%=7;for(var e=0,p=0,q=t[k],h=0,m;k<t.length;)m=Math.min(n,8-p),h<<=m,h|=q>>n-m,n-=m,q&=a[n],p+=m,0===n&&(k++,n=7,q=t[k]),8===
p&&(m=b.littleEndian&&d?l.length-e-1:e,l[m]=h,e++,h=p=0);0<p&&(m=b.littleEndian&&d?l.length-e-1:e,l[m]=h<<8-p);return g};b.Decoder.decodeSafeBinaryEncodedBits=function(b,n){for(var d=new Uint8Array(b),g=new ArrayBuffer(Math.ceil(n/8)),g=new Uint8Array(g),l=0,k=7,e=0,p=0,q=d[l],h=0,m;e<g.length;)m=Math.min(k,8-p),h<<=m,h|=q>>k-m,k-=m,q&=a[k],p+=m,0===k&&(l++,k=7,q=d[l]),8===p&&(g[e]=h,e++,h=p=0);0<p&&(g[e]=h<<8-p);return g}})(window.Smile=window.Smile||{});
(function(b,u){var a=[0,1,3,7,15,31,63,127,255],t=[1,2,4,8,16,32,64,128];b.DecoderStream=function(b){this._inputStream=b};b.DecoderStream.prototype.isEof=function(){return this._inputStream.isEof()};b.DecoderStream.prototype.read=function(){return this._inputStream.read()};b.DecoderStream.prototype.peek=function(){return this._inputStream.peek()};b.DecoderStream.prototype.readUnsignedVint=function(){function b(n,e){32>g+e?(d<<=e,d|=n&a[e]):(d*=t[e],d+=n&a[e]);g+=e}for(var d=0,g=0;;){var l=this._inputStream.read();
if(l&128)return b(l,6),d;b(l,7)}};b.DecoderStream.prototype.readSignedVint=function(){return b.Decoder.decodeZigZag(this.readUnsignedVint())};b.DecoderStream.prototype.readAscii=function(a){return b.Decoder.decodeAscii(this._inputStream.readArray(a))};b.DecoderStream.prototype.readUtf8=function(a){return b.Decoder.decodeUtf8(this._inputStream.readArray(a))};b.DecoderStream.prototype.readFloat32=function(){return b.Decoder.decodeFloat32(this.readFixedLengthBigEndianEncodedBits(32,!0))};b.DecoderStream.prototype.readFloat64=
function(){return b.Decoder.decodeFloat64(this.readFixedLengthBigEndianEncodedBits(64,!0))};b.DecoderStream.prototype.readFixedLengthBigEndianEncodedBits=function(a,d){var g=this._inputStream.readArray(Math.ceil(a/7));return b.Decoder.decodeFixedLengthBigEndianEncodedBits(g,a,d)};b.DecoderStream.prototype.readSafeBinary=function(){var a=this.readUnsignedVint(),d=this._inputStream.readArray(Math.ceil(8*a/7));return b.Decoder.decodeSafeBinaryEncodedBits(d,8*a)};b.DecoderStream.prototype.readBigInt=
function(){var b=this.readSafeBinary(),a=0,g;for(g=0;g<b.length;g++)a=256*a+b[g];return a};b.DecoderStream.prototype.readBigDecimal=function(){var b=this.readSignedVint();return this.readBigInt()*Math.pow(10,b)}})(window.Smile=window.Smile||{});(function(b,u){b.SmileError=function(b){this.name="SmileError";this.message=b};b.SmileError.prototype=Object.create(Error.prototype);b.SmileError.prototype.constructor=b.SmileError})(window.Smile=window.Smile||{});
(function(b,u){b.InputStream=function(a){if(a instanceof Uint8Array)this._view=a;else if(a instanceof ArrayBuffer)this._view=new Uint8Array(a);else if(a.constructor===Array)this._view=new Uint8Array(a);else throw new b.SmileError("Illegal argument (Uint8Array, ArrayBuffer, Array expected).");this._index=0};b.InputStream.prototype.isEof=function(){return this._index>=this._view.length};b.InputStream.prototype.read=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");var a=
this._view[this._index];this._index++;return a};b.InputStream.prototype.readArray=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");a=Math.min(this._view.length,this._index+a);var t=this._view.subarray(this._index,a);this._index=a;return t};b.InputStream.prototype.peek=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");return this._view[this._index]};b.InputStream.prototype.skip=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");
if(0>a)throw new b.SmileError("Invalid skip amount.");this._index+=a}})(window.Smile=window.Smile||{});
(function(b,u){function a(a){function n(){if(0!==r.length)return r[r.length-1]}function d(b,a){e&&e.debug&&(a===u?r.push(b):r.push(b+" "+a))}function g(s,a){var f;if(32===s)return d("EMPTYSTRING"),"";if(33===s)return d("NULL"),null;if(34===s)return d("FALSE"),!1;if(35===s)return d("TRUE"),!0;if(36===s)return f=a.readSignedVint(),d("INT32",f),f;if(37===s)return f=a.readSignedVint(),d("INT64",f),f;if(38===s)return f=a.readBigInt(),d("BIGINT",f),f;if(40===s)return f=a.readFloat32(),d("FLOAT32",f),f;
if(41===s)return f=a.readFloat64(),d("FLOAT64",f),f;if(42===s)return f=a.readBigDecimal(),d("BIGDECIMAL",f),f;throw new b.SmileError("Invalid value token 0x"+s.toString(16));}function l(a){var c=a.read(),f=c>>5;if(0===f)return a=m.getString(c&31),d("SHORTSTRREF",a),a;if(1===f)return g(c,a);if(2===f)return a=a.readAscii((c&31)+1),m.addString(a),d("TINYASCII",a),a;if(3===f)return a=a.readAscii((c&31)+33),m.addString(a),d("SHORTASCII",a),a;if(4===f)return a=a.readUtf8((c&31)+2),m.addString(a),d("TINYUTF8",
a),a;if(5===f)return a=a.readUtf8((c&31)+34),m.addString(a),d("SHORTUTF8",a),a;if(6===f)return a=b.Decoder.decodeZigZag(c&31),d("SMALLINT",a),a;if(7===f){var h;if(224===c)throw new b.SmileError("Value token 0x"+c.toString(16)+" not supported yet.");if(228===c)throw new b.SmileError("Value token 0x"+c.toString(16)+" not supported yet.");if(232===c)throw new b.SmileError("Value token 0x"+c.toString(16)+" not supported yet.");if(236===c)throw new b.SmileError("Value token 0x"+c.toString(16)+" not supported yet.");
if(248===c){f=[];for(e&&e.debug&&r.push([]);249!==a.peek();)f.push(l(a)),e&&e.debug&&(c=r.pop(),n().push(c));a.read();a=f}else if(250===c){f={};for(e&&e.debug&&r.push({});251!==a.peek();)h=k(a),c=l(a),f[h]=c,e&&e.debug&&(c=r.pop(),h=r.pop(),n()[h]=c);a.read();a=f}else{if(253===c)throw new b.SmileError("Value token 0x"+c.toString(16)+" not supported yet.");throw new b.SmileError("Invalid value token 0x"+c.toString(16));}return a}}function k(a){var c=a.read();if(32===c)return d("EMPTYSTRING"),"";if(48<=
c&&51>=c){a=(c&3)<<8|a.read();if(64>a)throw new b.SmileError("Invalid long shared key name reference.");a=h.getString(a);d("LONGSTRREF",a);return a}if(52===c)throw new b.SmileError("Key token 0x"+c.toString(16)+" not supported yet.");if(64<=c&&127>=c)return a=h.getString(c&63),d("SHORTSTRREF",a),a;if(128<=c&&191>=c)return a=a.readAscii((c&63)+1),h.addString(a),d("SHORTASCII",a),a;if(192<=c&&247>=c)return a=a.readUtf8((c&63)+2),h.addString(a),d("SHORTUTF8",a),a;throw new b.SmileError("Invalid key token 0x"+
c.toString(16));}var e=a,p=!1,q=!1,h,m,v,r=[];this.parse=function(a){var c,d,g;v=new b.DecoderStream(new b.InputStream(a));a=v.read();c=v.read();d=v.read();g=v.read();if(58!==a||41!==c||10!==d)throw new b.SmileError("Invalid Smile data.");p=g&1;q=g&2;h=new b.SharedStringBuffer(p,1024);m=new b.SharedStringBuffer(q,1024);a=l(v);e&&e.debug&&console.log(r.pop());return a}}b.Parser={};b.Parser.parse=function(b,n){return(new a(n)).parse(b)}})(window.Smile=window.Smile||{});
(function(b,u){b.SharedStringBuffer=function(a,b){this._enabled=a;this._maxStrings=b;this._strings=[]};b.SharedStringBuffer.prototype.addString=function(a){if(!this._enabled)return a;this._strings.length>=this._maxStrings&&(this._strings.length=0);this._strings.push(a);return a};b.SharedStringBuffer.prototype.getString=function(a){if(!this._enabled)throw new b.SmileError("Shared strings are not enabled.");if(a>=this._strings.length)throw new b.SmileError("Shared string reference out of range.");return this._strings[a]}})(window.Smile=
window.Smile||{});