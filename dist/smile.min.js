(function(b,v){var a=[0,1,3,7,15,31,63,127,255],t=[1,2,4,8,16,32,64,128];b.DecoderStream=function(b){this._inputStream=b};b.DecoderStream.prototype.isEof=function(){return this._inputStream.isEof()};b.DecoderStream.prototype.read=function(){return this._inputStream.read()};b.DecoderStream.prototype.peek=function(){return this._inputStream.peek()};b.DecoderStream.prototype.readUnsignedVint=function(){function b(e,m){32>g+m?(c<<=m,c|=e&a[m]):(c*=t[m],c+=e&a[m]);g+=m}for(var c=0,g=0;;){var p=this._inputStream.read();
if(p&128)return b(p,6),c;b(p,7)}};b.DecoderStream.prototype.readSignedVint=function(){return b.Decoder.decodeZigZag(this.readUnsignedVint())};b.DecoderStream.prototype.readAscii=function(e){return b.Decoder.decodeAscii(this._inputStream.readArray(e))};b.DecoderStream.prototype.readUtf8=function(e){return b.Decoder.decodeUtf8(this._inputStream.readArray(e))};b.DecoderStream.prototype.readFloat32=function(){return b.Decoder.decodeFloat32(this.readFixedLengthBigEndianEncodedBits(32,!0))};b.DecoderStream.prototype.readFloat64=
function(){return b.Decoder.decodeFloat64(this.readFixedLengthBigEndianEncodedBits(64,!0))};b.DecoderStream.prototype.readFixedLengthBigEndianEncodedBits=function(e,c){var a=this._inputStream.readArray(Math.ceil(e/7));return b.Decoder.decodeFixedLengthBigEndianEncodedBits(a,e,c)};b.DecoderStream.prototype.readSafeBinary=function(){var e=this.readUnsignedVint(),c=this._inputStream.readArray(Math.ceil(8*e/7));return b.Decoder.decodeSafeBinaryEncodedBits(c,8*e)};b.DecoderStream.prototype.readBigInt=
function(){var b=this.readSafeBinary(),c=0,a;for(a=0;a<b.length;a++)c=256*c+b[a];return c};b.DecoderStream.prototype.readBigDecimal=function(){var b=this.readSignedVint();return this.readBigInt()*Math.pow(10,b)};b.DecoderStream.prototype.readLongString=function(){for(var b=[],c;;){c=this._inputStream.read();if(252===c)break;b.push(c)}return b};b.DecoderStream.prototype.readLongAscii=function(){return b.Decoder.decodeAscii(this.readLongString())};b.DecoderStream.prototype.readLongUtf8=function(){return b.Decoder.decodeUtf8(this.readLongString())}})(window.Smile=
window.Smile||{});
(function(b,v){var a=[0,1,3,7,15,31,63,127,255];b.Decoder=function(){};b.Decoder.decodeZigZag=function(a){if(0>a)throw new b.SmileError("Illegal zigzag value");return 2147483647>=a?a&1?-(a>>1)-1:a>>1:a&1?-Math.floor(a/2)-1:Math.floor(a/2)};b.Decoder.decodeAscii=function(b){return String.fromCharCode.apply(null,b)};b.Decoder.decodeUtf8=function(b){for(var a="",c=b.length,g=0,p,k,m;g<c;)p=b[g++],k=p>>4,0<=k&&7>=k?a+=String.fromCharCode(p):12<=k&&13>=k?(k=b[g++],a+=String.fromCharCode((p&31)<<6|k&63)):
14===k&&(k=b[g++],m=b[g++],a+=String.fromCharCode((p&15)<<12|(k&63)<<6|(m&63)<<0));return a};b.Decoder.decodeFloat32=function(b){return(new Float32Array(b))[0]};b.Decoder.decodeFloat64=function(b){return(new Float64Array(b))[0]};b.Decoder.decodeFixedLengthBigEndianEncodedBits=function(t,e,c){t=new Uint8Array(t);var g=new ArrayBuffer(Math.ceil(e/8)),p=new Uint8Array(g),k=0;e%=7;for(var m=0,h=0,r=t[k],q=0,n;k<t.length;)n=Math.min(e,8-h),q<<=n,q|=r>>e-n,e-=n,r&=a[e],h+=n,0===e&&(k++,e=7,r=t[k]),8===
h&&(n=b.littleEndian&&c?p.length-m-1:m,p[n]=q,m++,q=h=0);0<h&&(n=b.littleEndian&&c?p.length-m-1:m,p[n]=q<<8-h);return g};b.Decoder.decodeSafeBinaryEncodedBits=function(b,e){for(var c=new Uint8Array(b),g=new ArrayBuffer(Math.ceil(e/8)),g=new Uint8Array(g),p=0,k=7,m=0,h=0,r=c[p],q=0,n;m<g.length;)n=Math.min(k,8-h),q<<=n,q|=r>>k-n,k-=n,r&=a[k],h+=n,0===k&&(p++,k=7,r=c[p]),8===h&&(g[m]=q,m++,q=h=0);0<h&&(g[m]=q<<8-h);return g}})(window.Smile=window.Smile||{});
(function(b,v){b.InputStream=function(a){if(a instanceof Uint8Array)this._view=a;else if(a instanceof ArrayBuffer)this._view=new Uint8Array(a);else if(a.constructor===Array)this._view=new Uint8Array(a);else throw new b.SmileError("Illegal argument (Uint8Array, ArrayBuffer, Array expected).");this._index=0};b.InputStream.prototype.isEof=function(){return this._index>=this._view.length};b.InputStream.prototype.read=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");var a=
this._view[this._index];this._index++;return a};b.InputStream.prototype.readArray=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");a=Math.min(this._view.length,this._index+a);var t=this._view.subarray(this._index,a);this._index=a;return t};b.InputStream.prototype.peek=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");return this._view[this._index]};b.InputStream.prototype.skip=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");
if(0>a)throw new b.SmileError("Invalid skip amount.");this._index+=a}})(window.Smile=window.Smile||{});(function(b,v){b.SmileError=function(b){this.name="SmileError";this.message=b};b.SmileError.prototype=Object.create(Error.prototype);b.SmileError.prototype.constructor=b.SmileError})(window.Smile=window.Smile||{});
(function(b,v){b.SharedStringBuffer=function(b,t){this._enabled=b;this._maxStrings=t;this._strings=[]};b.SharedStringBuffer.prototype.addString=function(b){if(!this._enabled)return b;this._strings.length>=this._maxStrings&&(this._strings.length=0);this._strings.push(b);return b};b.SharedStringBuffer.prototype.getString=function(a){if(!this._enabled)throw new b.SmileError("Shared strings are not enabled.");if(a>=this._strings.length)throw new b.SmileError("Shared string reference out of range.");return this._strings[a]}})(window.Smile=
window.Smile||{});(function(b,v){var a;a=new ArrayBuffer(2);(new DataView(a)).setInt16(0,256,!0);a=256===(new Int16Array(a))[0];b.littleEndian=a})(window.Smile=window.Smile||{});
(function(b,v){function a(a){function e(){if(0!==u.length)return u[u.length-1]}function c(b,a){h&&h.debug&&(a===v?u.push(b):u.push(b+" "+a))}function g(d,a){var f;if(32===d)return c("EMPTYSTRING"),"";if(33===d)return c("NULL"),null;if(34===d)return c("FALSE"),!1;if(35===d)return c("TRUE"),!0;if(36===d)return f=a.readSignedVint(),c("INT32",f),f;if(37===d)return f=a.readSignedVint(),c("INT64",f),f;if(38===d)return f=a.readBigInt(),c("BIGINT",f),f;if(40===d)return f=a.readFloat32(),c("FLOAT32",f),f;
if(41===d)return f=a.readFloat64(),c("FLOAT64",f),f;if(42===d)return f=a.readBigDecimal(),c("BIGDECIMAL",f),f;throw new b.SmileError("Invalid value token 0x"+d.toString(16));}function p(d,a){var f,g,l;if(224===d)return l=a.readLongAscii(),c("LONGASCII",l),l;if(228===d)return l=a.readLongUtf8(),c("LONGUTF8",l),l;if(232===d)return l=a.readSafeBinary(),c("BINARY",l),l;if(236<=d&&239>=d){l=(d&3)<<8|a.read();if(31>l)throw new b.SmileError("Invalid long shared value name reference.");l=w.getString(l);c("LONGSTRREF",
l);return l}if(248===d){f=[];for(h&&h.debug&&u.push([]);249!==a.peek();)f.push(k(a)),h&&h.debug&&(l=u.pop(),e().push(l));a.read();return f}if(250===d){f={};for(h&&h.debug&&u.push({});251!==a.peek();)g=m(a),l=k(a),f[g]=l,h&&h.debug&&(l=u.pop(),g=u.pop(),e()[g]=l);a.read();return f}if(253===d)return l=a.readUnsignedVint(),f=a.readArray(l),c("RAWBINARY",f),f;throw new b.SmileError("Invalid value token 0x"+d.toString(16));}function k(d){var a=d.read(),f=a>>5;if(0===f)return d=w.getString((a&31)-1),c("SHORTSTRREF",
d),d;if(1===f)return g(a,d);if(2===f)return d=d.readAscii((a&31)+1),w.addString(d),c("TINYASCII",d),d;if(3===f)return d=d.readAscii((a&31)+33),w.addString(d),c("SHORTASCII",d),d;if(4===f)return d=d.readUtf8((a&31)+2),w.addString(d),c("TINYUTF8",d),d;if(5===f)return d=d.readUtf8((a&31)+34),w.addString(d),c("SHORTUTF8",d),d;if(6===f)return d=b.Decoder.decodeZigZag(a&31),c("SMALLINT",d),d;if(7===f)return p(a,d)}function m(a){var e=a.read();if(32===e)return c("EMPTYSTRING"),"";if(48<=e&&51>=e){a=(e&3)<<
8|a.read();if(64>a)throw new b.SmileError("Invalid long shared key name reference.");a=n.getString(a);c("LONGSTRREF",a);return a}if(52===e)return a=a.readLongUtf8(),c("LONGUTF8",a),a;if(64<=e&&127>=e)return a=n.getString(e&63),c("SHORTSTRREF",a),a;if(128<=e&&191>=e)return a=a.readAscii((e&63)+1),n.addString(a),c("SHORTASCII",a),a;if(192<=e&&247>=e)return a=a.readUtf8((e&63)+2),n.addString(a),c("SHORTUTF8",a),a;throw new b.SmileError("Invalid key token 0x"+e.toString(16));}var h=a,r=!1,q=!1,n,w,x,
u=[];this.parse=function(a){var c,e,g;x=new b.DecoderStream(new b.InputStream(a));a=x.read();c=x.read();e=x.read();g=x.read();if(58!==a||41!==c||10!==e)throw new b.SmileError("Invalid Smile data.");r=g&1;q=g&2;n=new b.SharedStringBuffer(r,1024);w=new b.SharedStringBuffer(q,1024);a=k(x);h&&h.debug&&console.log(u.pop());return a}}b.Parser={};b.Parser.parse=function(b,e){return(new a(e)).parse(b)}})(window.Smile=window.Smile||{});