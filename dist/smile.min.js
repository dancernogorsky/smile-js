(function(b,r){var a;a=new ArrayBuffer(2);(new DataView(a)).setInt16(0,256,!0);a=256===(new Int16Array(a))[0];b.littleEndian=a})(window.Smile=window.Smile||{});
(function(b,r){var a=[0,1,3,7,15,31,63,127,255];b.Decoder=function(){};b.Decoder.decodeZigZag=function(a){if(0>a)throw new b.SmileError("Illegal zigzag value");return 2147483647>=a?a&1?-(a>>1)-1:a>>1:a&1?-Math.floor(a/2)-1:Math.floor(a/2)};b.Decoder.decodeAscii=function(b){return String.fromCharCode.apply(null,b)};b.Decoder.decodeUtf8=function(b){for(var c="",a=b.length,e=0,l,k,g;e<a;)l=b[e++],k=l>>4,0<=k&&7>=k?c+=String.fromCharCode(l):12<=k&&13>=k?(k=b[e++],c+=String.fromCharCode((l&31)<<6|k&63)):
14===k&&(k=b[e++],g=b[e++],c+=String.fromCharCode((l&15)<<12|(k&63)<<6|(g&63)<<0));return c};b.Decoder.decodeFloat32=function(b){return(new Float32Array(b))[0]};b.Decoder.decodeFloat64=function(b){return(new Float64Array(b))[0]};b.Decoder.decodeFixedLengthBigEndianEncodedBits=function(t,c,p){t=new Uint8Array(t);var e=new ArrayBuffer(Math.ceil(c/8)),l=new Uint8Array(e),k=0;c%=7;for(var g=0,q=0,s=t[k],n=0,m;k<t.length;)m=Math.min(c,8-q),n<<=m,n|=s>>c-m,c-=m,s&=a[c],q+=m,0===c&&(k++,c=7,s=t[k]),8===
q&&(m=b.littleEndian&&p?l.length-g-1:g,l[m]=n,g++,n=q=0);0<q&&(m=b.littleEndian&&p?l.length-g-1:g,l[m]=n<<8-q);return e};b.Decoder.decodeSafeBinaryEncodedBits=function(b,c){for(var p=new Uint8Array(b),e=new ArrayBuffer(Math.ceil(c/8)),e=new Uint8Array(e),l=0,k=7,g=0,q=0,s=p[l],n=0,m;g<e.length;)m=Math.min(k,8-q),n<<=m,n|=s>>k-m,k-=m,s&=a[k],q+=m,0===k&&(l++,k=7,s=p[l]),8===q&&(e[g]=n,g++,n=q=0);0<q&&(e[g]=n<<8-q);return e}})(window.Smile=window.Smile||{});
(function(b,r){var a=[0,1,3,7,15,31,63,127,255],t=[1,2,4,8,16,32,64,128];b.DecoderStream=function(b){this._inputStream=b};b.DecoderStream.prototype.isEof=function(){return this._inputStream.isEof()};b.DecoderStream.prototype.read=function(){return this._inputStream.read()};b.DecoderStream.prototype.peek=function(){return this._inputStream.peek()};b.DecoderStream.prototype.readUnsignedVint=function(){function b(c,g){32>e+g?(p<<=g,p|=c&a[g]):(p*=t[g],p+=c&a[g]);e+=g}for(var p=0,e=0;;){var l=this._inputStream.read();
if(l&128)return b(l,6),p;b(l,7)}};b.DecoderStream.prototype.readSignedVint=function(){return b.Decoder.decodeZigZag(this.readUnsignedVint())};b.DecoderStream.prototype.readAscii=function(c){return b.Decoder.decodeAscii(this._inputStream.readArray(c))};b.DecoderStream.prototype.readUtf8=function(c){return b.Decoder.decodeUtf8(this._inputStream.readArray(c))};b.DecoderStream.prototype.readFloat32=function(){return b.Decoder.decodeFloat32(this.readFixedLengthBigEndianEncodedBits(32,!0))};b.DecoderStream.prototype.readFloat64=
function(){return b.Decoder.decodeFloat64(this.readFixedLengthBigEndianEncodedBits(64,!0))};b.DecoderStream.prototype.readFixedLengthBigEndianEncodedBits=function(c,a){var e=this._inputStream.readArray(Math.ceil(c/7));return b.Decoder.decodeFixedLengthBigEndianEncodedBits(e,c,a)};b.DecoderStream.prototype.readSafeBinary=function(){var c=this.readUnsignedVint(),a=this._inputStream.readArray(Math.ceil(8*c/7));return b.Decoder.decodeSafeBinaryEncodedBits(a,8*c)};b.DecoderStream.prototype.readBigInt=
function(){var b=this.readSafeBinary(),a=0,e;for(e=0;e<b.length;e++)a=256*a+b[e];return a};b.DecoderStream.prototype.readBigDecimal=function(){var b=this.readSignedVint();return this.readBigInt()*Math.pow(10,b)}})(window.Smile=window.Smile||{});(function(b,r){b.SmileError=function(b){this.name="SmileError";this.message=b};b.SmileError.prototype=Object.create(Error.prototype);b.SmileError.prototype.constructor=b.SmileError})(window.Smile=window.Smile||{});
(function(b,r){b.InputStream=function(a){if(a instanceof Uint8Array)this._view=a;else if(a instanceof ArrayBuffer)this._view=new Uint8Array(a);else if(a.constructor===Array)this._view=new Uint8Array(a);else throw new b.SmileError("Illegal argument (Uint8Array, ArrayBuffer, Array expected).");this._index=0};b.InputStream.prototype.isEof=function(){return this._index>=this._view.length};b.InputStream.prototype.read=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");var a=
this._view[this._index];this._index++;return a};b.InputStream.prototype.readArray=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");a=Math.min(this._view.length,this._index+a);var t=this._view.subarray(this._index,a);this._index=a;return t};b.InputStream.prototype.peek=function(){if(this.isEof())throw new b.SmileError("End of input stream reached.");return this._view[this._index]};b.InputStream.prototype.skip=function(a){if(this.isEof())throw new b.SmileError("End of input stream reached.");
if(0>a)throw new b.SmileError("Invalid skip amount.");this._index+=a}})(window.Smile=window.Smile||{});
(function(b,r){function a(a){function c(){return g&&g.debug}function p(){if(0!==h.length)return h[h.length-1]}function e(d,a){var f;if(32===d)return c()&&h.push("EMPTYSTRING"),"";if(33===d)return c()&&h.push("NULL"),null;if(34===d)return c()&&h.push("FALSE"),!1;if(35===d)return c()&&h.push("TRUE"),!0;if(36===d)return f=a.readSignedVint(),c()&&h.push("INT32 "+f),f;if(37===d)return f=a.readSignedVint(),c()&&h.push("INT64 "+f),f;if(38===d)return f=a.readBigInt(),c()&&h.push("BIGINT "+f),f;if(40===d)return f=
a.readFloat32(),c()&&h.push("FLOAT32 "+f),f;if(41===d)return f=a.readFloat64(),c()&&h.push("FLOAT64 "+f),f;if(42===d)return f=a.readBigDecimal(),c()&&h.push("BIGDECIMAL "+f),f;throw new b.SmileError("Invalid value token 0x"+d.toString(16));}function l(d){var a=d.read(),f=a>>5;if(0===f)return d=m.getString(a&31),c()&&h.push("SHORTSTRREF "+d),d;if(1===f)return e(a,d);if(2===f)return d=d.readAscii((a&31)+1),m.addString(d),c()&&h.push("TINYASCII "+d),d;if(3===f)return d=d.readAscii((a&31)+33),m.addString(d),
c()&&h.push("SHORTASCII "+d),d;if(4===f)return d=d.readUtf8((a&31)+2),m.addString(d),c()&&h.push("TINYUTF8 "+d),d;if(5===f)return d=d.readUtf8((a&31)+34),m.addString(d),c()&&h.push("SHORTUTF8 "+d),d;if(6===f)return d=b.Decoder.decodeZigZag(a&31),c()&&h.push("SMALLINT "+d),d;if(7===f){var g;if(224===a)throw new b.SmileError("Value token 0x"+a.toString(16)+" not supported yet.");if(228===a)throw new b.SmileError("Value token 0x"+a.toString(16)+" not supported yet.");if(232===a)throw new b.SmileError("Value token 0x"+
a.toString(16)+" not supported yet.");if(236===a)throw new b.SmileError("Value token 0x"+a.toString(16)+" not supported yet.");if(248===a){f=[];for(c()&&h.push([]);249!==d.peek();)f.push(l(d)),c()&&(a=h.pop(),p().push(a));d.read();d=f}else if(250===a){f={};for(c()&&h.push({});251!==d.peek();)g=k(d),a=l(d),f[g]=a,c()&&(a=h.pop(),g=h.pop(),p()[g]=a);d.read();d=f}else{if(253===a)throw new b.SmileError("Value token 0x"+a.toString(16)+" not supported yet.");throw new b.SmileError("Invalid value token 0x"+
a.toString(16));}return d}}function k(a){var e=a.read();if(32===e)return c()&&h.push("EMPTYSTRING"),"";if(48<=e&&51>=e){a=(e&3)<<8|a.read();if(64>a)throw new b.SmileError("Invalid long shared key name reference.");a=n.getString(a);c()&&h.push("LONGSTRREF "+a);return a}if(52===e)throw new b.SmileError("Key token 0x"+e.toString(16)+" not supported yet.");if(64<=e&&127>=e)return a=n.getString(e&63),c()&&h.push("SHORTSTRREF "+a),a;if(128<=e&&191>=e)return a=a.readAscii((e&63)+1),n.addString(a),c()&&h.push("SHORTASCII "+
a),a;if(192<=e&&247>=e)return a=a.readUtf8((e&63)+2),n.addString(a),c()&&h.push("SHORTUTF8 "+a),a;throw new b.SmileError("Invalid key token 0x"+e.toString(16));}var g=a,q=!1,s=!1,n,m,r,h=[];this.parse=function(a){var e,f,g;r=new b.DecoderStream(new b.InputStream(a));a=r.read();e=r.read();f=r.read();g=r.read();if(58!==a||41!==e||10!==f)throw new b.SmileError("Invalid Smile data.");q=g&1;s=g&2;n=new b.SharedStringBuffer(q,1024);m=new b.SharedStringBuffer(s,1024);a=l(r);c()&&console.log(h.pop());return a}}
b.Parser={};b.Parser.parse=function(b,c){return(new a(c)).parse(b)}})(window.Smile=window.Smile||{});
(function(b,r){b.SharedStringBuffer=function(a,b){this._enabled=a;this._maxStrings=b;this._strings=[]};b.SharedStringBuffer.prototype.addString=function(a){if(!this._enabled)return a;this._strings.length>=this._maxStrings&&(this._strings.length=0);this._strings.push(a);return a};b.SharedStringBuffer.prototype.getString=function(a){if(!this._enabled)throw new b.SmileError("Shared strings are not enabled.");if(a>=this._strings.length)throw new b.SmileError("Shared string reference out of range.");return this._strings[a]}})(window.Smile=
window.Smile||{});